(function(C){var F="ibbCmpConsent",y="ibb_euconsent",w=90,u=C.document,x=3,A=500;var D=0;function E(a){var b=new Date();b.setTime(b.getTime()+(w*24*60*60*1000));var c="; expires="+b.toUTCString();u.cookie=y+"="+(a||"")+c+"; path=/"}function K(){var a=new RegExp("(^|; )"+y+"=([^;]*)(; |$)");return((u.cookie||"").match(a)||[])[2]||null}function t(a){localStorage&&localStorage.setItem(y,a)}function B(){return localStorage&&localStorage.getItem(y)||null}function G(a){E(a);t(a)}function v(){return B()||K()||null
}function I(){var a=z(C);if(a){a("getTCData",2,function(c,d){if(d){G((c||{}).tcString)}})}else{var b=H(C);if(b){b("getConsentData",null,function(c,d){if(d){G((c||{}).consentData)}})}else{J()}}}function z(b){try{if(b.__tcfapi){return b.__tcfapi}else{if(b.parent&&b!==b.parent){return z(b.parent)}}}catch(a){return false}return false}function H(b){try{if(b.__cmp){return b.__cmp}else{if(b.parent&&b!==b.parent){return H(b.parent)}}}catch(a){return false}return false}function J(){if(D<x){setTimeout(function(){I()
},A);D++}}I();C[F]=v})(window);if(typeof window.BBECML=="undefined"){window.BBECML=new (function(){function Util(){}Util.prototype=(function(){function isInstanceOf(obj,type){return(obj&&((typeof obj).toUpperCase()=="OBJECT")&&(obj instanceof type))}return{isDefined:function(arg){if(typeof(arg)=="undefined"){return false}else{return true}},isUndefined:function(arg){return !this.isDefined(arg)},createObjectIfUndefined:function(obj){return this.getValueOrDefaultIfUndefined(obj,{})
},getValueOrDefaultIfUndefined:function(obj,dfault){if(this.isUndefined(obj)){obj=dfault}return obj},addMissingProperties:function(objectToBeCompleted,completeProperties){var propertiesToComplete;objectToBeCompleted=objectToBeCompleted||{};for(var i=1;i<arguments.length;i++){propertiesToComplete=arguments[i];for(var property in propertiesToComplete){if(this.canNestIntoObject(completeProperties[property])){if(objectToBeCompleted[property]==undefined){objectToBeCompleted[property]={}
}objectToBeCompleted[property]=this.addMissingProperties(objectToBeCompleted[property],propertiesToComplete[property])}else{if(this.isUndefined(objectToBeCompleted[property])){objectToBeCompleted[property]=propertiesToComplete[property]}}}}return objectToBeCompleted},canNestIntoObject:function(obj){var canNest=true;if((typeof obj).toUpperCase()!="OBJECT"){canNest=false}else{if(obj===window){canNest=false}else{if(this.isDefined(obj.nodeType)&&obj.nodeType!=0){canNest=false}}}return canNest
},initializeDependencies:function(injectedDependency,requiredType){if(this.isUndefined(requiredType)){throw"Util: required type must be defined!"}var finalDependency=null;if(isInstanceOf(injectedDependency,requiredType)){finalDependency=injectedDependency}else{finalDependency=new requiredType()}return finalDependency},keyExists:function(object,keys){for(var i=0;i<keys.length;i++){if(this.isUndefined(object[keys[i]])){return false}else{object=object[keys[i]]}}return true},getPropertyValueOrInitializeItIfNotSet:function(obj,propertyKeylist,initialValue){var propertyValue=this.getPropertyValue(obj,propertyKeylist);
if(this.isDefined(propertyValue)){return propertyValue}else{this.initializePropertyValue(obj,propertyKeylist,initialValue);return initialValue}},getPropertyValue:function(obj,propertyKeylist){var propertyValue=obj;for(var i=0;i<propertyKeylist.length;i++){propertyValue=propertyValue[propertyKeylist[i]];if(this.isUndefined(propertyValue)){return}}return propertyValue},initializePropertyValue:function(obj,propertyKeylist,initialValue){var keyCount=propertyKeylist.length;for(var i=0;
i<propertyKeylist.length;i++){keyCount--;if(this.isUndefined(obj[propertyKeylist[i]])){if(keyCount==0){obj[propertyKeylist[i]]=initialValue}else{obj[propertyKeylist[i]]={}}}obj=obj[propertyKeylist[i]]}},getFunctionWithScopeAndParams:function(fn,scope,paramArray){if(!(paramArray instanceof Array)){paramArray=paramArray?[paramArray]:[]}return function(){var args=[];for(var i=0;i<paramArray.length;i++){args.push(paramArray[i])}for(var i=0;i<arguments.length;i++){args.push(arguments[i])
}return fn.apply(scope,args)}},mixIn:function(objToBeExtended){var mixIn,state;for(var i=1;i<arguments.length;i++){mixIn=arguments[i].prototype;state=arguments[i]();for(var publicStuff in mixIn){objToBeExtended[publicStuff]=mixIn[publicStuff]}for(var stateProperty in state){objToBeExtended[stateProperty]=state[stateProperty]}}},apply:function(target,source){for(property in source){target[property]=source[property]}return target},getPathWithTrailingSlash:function(path){return((this.lastCharOf(path)!="/")&&(path.length>0))?path+"/":path
},lastCharOf:function(str){return str.charAt(str.length-1)},repeat:function(o){var interval=o.duration/o.steps;var remainingSteps=o.steps;var repeater=function(){if(remainingSteps>0){o.fn.call(o.scope,o)}else{clearInterval(o.scope[o.timer]);if(o.thenCall){o.thenCall.call(o.scope,o)}}remainingSteps--};o.scope[o.timer]=setInterval(repeater,interval)},runDelayed:function(o){return setTimeout(this.getFunctionWithScopeAndParams(o.fn,o.scope,o.data),o.delay)},makeCallback:function(o,fn){if(!o.scope){o.scope=this
}return function(){if(o.thenCall){o.thenCall.call(o.scope,o.data)}if(fn){fn.call(this)}}}}})();BBCookie={callbackFunction:null,runGetUserId:function(){this.callbackFunction()},runServerCookieValue:function(cookieValue){this.callbackFunction(cookieValue)}};function Cookie(dependencies){var utils=new Util();dependencies=utils.createObjectIfUndefined(dependencies);var dom=utils.initializeDependencies(dependencies.DOM,DOM);var flash=utils.initializeDependencies(dependencies.Flash,Flash);
var that=this;var sharedCookieManager=null;var sharedCookieOptions=null;var serverCookieOptions=null;var LOCAL_COOKIE_EXPIRATION_YEARS=2;this.getDefaultOptions=function(){return{sharedCookie:{baseUrl:"http://localhost:8080/CommonJsLib/flash/",fileName:"bbnaut.swf",id:"bbnaut",flashVersion:8,name:"test_value",width:0,height:0},localCookie:{name:"test_value"},serverCookie:{baseUrl:"http://localhost:8080/CommonJsLib",scriptPath:"/",getScript:"getCookie.jsp",setScript:"setCookie.jsp",name:"test_value"},value:""}
};this.getLocalCookie=function(options){var nameEQ=options.localCookie.name+"=";var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var c=cookies[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null};this.setLocalCookie=function(options){var expirationDate=new Date();expirationDate.setFullYear(expirationDate.getFullYear()+LOCAL_COOKIE_EXPIRATION_YEARS);document.cookie=options.localCookie.name+"="+options.value+"; path=/; expires="+expirationDate.toUTCString()
};this.getServerCookieAsync=function(options){if(!options.callback){throw"Cookie: callback must be specified for server cookies called asynchronously"}BBCookie.callbackFunction=that.adviseServerCookieIsReady;serverCookieOptions=options;if(options.serverCookie){with(options.serverCookie){dom.addJavaScript(baseUrl+scriptPath+getScript+"?name="+escape(name))}}};this.setServerCookie=function(options){if(options.serverCookie){with(options.serverCookie){dom.addJavaScript(baseUrl+scriptPath+setScript+"?name="+escape(name)+"&value="+escape(options.value))
}}};function createSharedCookieManager(options){options=utils.addMissingProperties(options,that.getDefaultOptions());sharedCookieOptions=options;BBCookie.callbackFunction=that.adviseSharedManagerIsReady;var managerCode=flash.getFlashCode(options.sharedCookie);if(dom.isLoaded()){flash.addFlashObjectIntoDom(options.sharedCookie.placement,managerCode)}else{BbSingleton.getEventDispatcher().registerListener("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED,function(){flash.addFlashObjectIntoDom(options.sharedCookie.placement,managerCode)
})}}this.getSharedCookie=function(options){if(!sharedCookieManager){throw"Cookie: sharedCookieManager has not been set yet, call getSharedCookieAsync instead"}else{return sharedCookieManager.getFlashCookieUserId()}};this.getSharedCookieAsync=function(options){options.internalCallback=arguments.callee;if(!options.callback){throw"Cookie: callback must be specified for server cookies called asynchronously"}if(!sharedCookieManager){createSharedCookieManager(options)}else{options.callback(sharedCookieManager.getFlashCookieUserId())
}};this.setSharedCookie=function(options){options.internalCallback=arguments.callee;if(!sharedCookieManager){createSharedCookieManager(options)}else{sharedCookieManager.setFlashCookieUserId(options.value)}};this.adviseSharedManagerIsReady=function(){if(!sharedCookieOptions){throw"Cookie: missing callbackOptions for current asynchronous call"}else{var options=sharedCookieOptions;var flashName=flash.getFlashName(options.sharedCookie);sharedCookieManager=flash.getReferenceTo(flashName);
sharedCookieOptions=null;BBCookie.callbackFunction=null;options.internalCallback(options)}};this.adviseServerCookieIsReady=function(cookieValue){if(!serverCookieOptions){throw"Cookie: missing callbackOptions for current asynchronous call"}else{var options=serverCookieOptions;serverCookieOptions=null;BBCookie.callbackFunction=null;options.callback(cookieValue)}}}Cookie.prototype=Cookie.prototype;function Communication(dependencies){var utils=new Util();dependencies=utils.createObjectIfUndefined(dependencies);
var dom=utils.initializeDependencies(dependencies.DOM,DOM);var browser=utils.initializeDependencies(dependencies.Browser,Browser);var stringUtils=utils.initializeDependencies(dependencies.StringUtils,StringUtils);this.setBrowser=function(givenBrowser){browser=givenBrowser};function checkRequestAttributes(requestAttributes){if(requestAttributes.url==""){throw"Communication: Missing url in request attributes"}}this.getDefaultPostIframePlacement=function(){return{parentElementIdentification:dom.getDefaultContainerPlacement().elementAttributes.id,elementType:"IFRAME",elementAttributes:{id:"bbPostFrame",style:stringUtils.convertParamListIntoSingleString(this.getDefaultPostIframeStyle(),", ",": ")}}
};this.getDefaultPostIframeStyle=function(){return{position:"absolute",border:"0px",width:"0px",height:"0px",left:"-1000px",top:"-1000px",visibility:"hidden"}};this.getDefaultPostFormPlacement=function(){return{elementType:"FORM",elementAttributes:{id:"bbPostForm",method:"POST"}}};this.doPostRequest=function(requestAttributes){checkRequestAttributes(requestAttributes);var postStructure=this.buildPostStructure(requestAttributes);postStructure.postForm.submit()};this.buildPostStructure=function(requestAttributes){var postStructure={};
postStructure.postIframe=createPostIframe(this.getDefaultPostIframePlacement(),this.getDefaultPostIframeStyle());var postFormPlacement=this.getDefaultPostFormPlacement();postFormPlacement.elementAttributes.action=requestAttributes.url;postStructure.postForm=createPostForm(postFormPlacement,postStructure.postIframe);applyRequestParamsToPostForm(requestAttributes.params,postStructure.postForm);return postStructure};function createPostIframe(postIframePlacement,postIframeStyle){var container=dom.createDefaultContainerIfNotExists();
var postIframe=dom.createElementIfNotExists(postIframePlacement,container);dom.applyStyleToElement(postIframe,postIframeStyle);return postIframe}function createPostForm(postFormPlacement,postIframe){var iframeBody=dom.createElementIfNotExists({elementType:"BODY"},postIframe.contentDocument);return dom.createElementIfNotExists(postFormPlacement,iframeBody)}function applyRequestParamsToPostForm(requestParams,postForm){var inputPlacement={elementType:"INPUT",elementAttributes:{type:"hidden"}};
for(var paramName in requestParams){inputPlacement.elementAttributes.name=paramName;inputPlacement.elementAttributes.value=requestParams[paramName];dom.createElement(inputPlacement,postForm)}}this.doGetRequest=function(requestAttributes){var request=this.buildGetRequest(requestAttributes);dom.addJavaScript(request)};this.buildGetRequest=function(requestAttributes){checkRequestAttributes(requestAttributes);var queryString=buildQueryString(requestAttributes);return requestAttributes.url+queryString
};function buildQueryString(requestAttributes){var queryString=stringUtils.convertParamListIntoSingleString(requestAttributes.params,"&","=");if(queryString==""){return queryString}queryString="?"+queryString;var maxLength=browser.maxGetRequestLength-requestAttributes.url.length;queryString=stringUtils.clipStringIfOverflows(queryString,maxLength,requestAttributes.longQueryStringClippingMethod);if(queryString.length>maxLength){throw"Communication: max available queryString length overflow"
}return queryString}}Communication.prototype.toString=function(){return"Communication object"};if((typeof BbSingleton).toLowerCase()!="object"){BbSingleton={eventDispatcher:null,getEventDispatcher:function(){if(!this.eventDispatcher){this.eventDispatcher=new EventDispatcher()}return this.eventDispatcher},onLoadHandler:function(){DOM.prototype.loaded=true;BbSingleton.getEventDispatcher().dispatchEvent("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED);if(oldOnload){oldOnload()
}}}}function EventDispatcher(dependencies){var utils=new Util();dependencies=utils.createObjectIfUndefined(dependencies);var registeredListeners={};var dispatchedRetroactiveEvents={};this.events={DOMLOADED:{type:"domloaded",retroactive:true}};initializeListeners();this.registerListener=function(eventSource,evnt,listener){listeners=getListeners(eventSource,evnt.type);if(!isListenerRegisteredForEvent(listener,listeners)){listeners.push(listener)}if(evnt.retroactive){redispatchRetroactiveEvent(eventSource,evnt.type,listener)
}};this.dispatchEvent=function(eventSource,evnt){if(evnt.retroactive){registerDispatchedRetroactiveEvent(eventSource,evnt.type)}var listeners=getListeners(eventSource,evnt.type);for(var i=0;i<listeners.length;i++){listeners[i]()}};function isListenerRegisteredForEvent(listener,listeners){for(var i=0;i<listeners.length;i++){if(listener.toString()===listeners[i].toString()){return true}}return false}function initializeListeners(){for(var evnt in this.events){registeredListeners[evnt.type]={}
}}function redispatchRetroactiveEvent(eventSource,eventType,listener){var evnt=getDispatchedRetroactiveEvent(eventSource,eventType);if(evnt.dispatched){listener()}}function registerDispatchedRetroactiveEvent(eventSource,eventType){var evnt=getDispatchedRetroactiveEvent(eventSource,eventType);evnt.dispatched=true}function getListeners(eventSource,eventType){return utils.getPropertyValueOrInitializeItIfNotSet(registeredListeners,[eventSource,eventType],[])}function getDispatchedRetroactiveEvent(eventSource,eventType){return utils.getPropertyValueOrInitializeItIfNotSet(dispatchedRetroactiveEvents,[eventSource,eventType],{dispatched:false})
}}function Browser(){var that=this;if(!(that instanceof Browser)){that={}}return that}Browser.prototype=(function(){var userAgent=navigator.userAgent.toLowerCase();var browser={browserVersion:(userAgent.match(/.+(?:rv|it|sion|ie|ome|pera)[\/: ]([\d.]+)/)||[])[1],isChrome:/chrome(?!frame)/.test(userAgent),isSafari:/webkit/.test(userAgent)&&!/chrome/.test(userAgent),isOpera:/opera/.test(userAgent),isMsie:/msie/.test(userAgent)&&!/opera/.test(userAgent),isMozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};
browser.majorVersion=parseInt(browser.browserVersion,10);if(browser.isChrome){browser.maxGetRequestLength=2048}else{if(browser.isSafari){browser.maxGetRequestLength=2048}else{if(browser.isOpera){browser.maxGetRequestLength=8192}else{if(browser.isMsie){browser.maxGetRequestLength=2048}else{if(browser.isMozilla){browser.maxGetRequestLength=8192}else{browser.maxGetRequestLength=2048}}}}}return browser})();function DOM(){var that=this;if(!(that instanceof DOM)){that={}}return that
}DOM.prototype=(function(){function prepareScriptObject(scriptUrl){var js=document.createElement("script");js.setAttribute("language","javascript");js.setAttribute("type","text/javascript");js.setAttribute("src",scriptUrl);return js}function addWhenReadyCallbackToScript(script,callbackFunction){if(callbackFunction&&(typeof callbackFunction).toUpperCase()=="FUNCTION"){if(script.readyState){script.onreadystatechange=function(){if(window.event.srcElement.readyState.toUpperCase()=="COMPLETE"){callbackFunction(script)
}}}else{script.onload=function(){callbackFunction(script)}}}return script}function setStyle(el,styles){for(var styleProperty in styles){el.style[styleProperty]=styles[styleProperty]}}return{isLoaded:function(){return this.loaded},getReferenceTo:function(objectId,searchingScope){var objectReference=null;if(!searchingScope){searchingScope=document}if(searchingScope.getElementById&&searchingScope.getElementById(objectId)!=null){objectReference=searchingScope.getElementById(objectId)
}else{if(searchingScope.layers&&searchingScope.layers[objectId]!=null){objectReference=searchingScope.layers[objectId]}else{if(searchingScope.all){objectReference=searchingScope.all[objectId]}}}if(objectReference==null){objectReference=searchingScope.getElementsByTagName(objectId).item(0)}return objectReference},setStylesTo:function(el,styles){setStyle(el,styles)},setStyles:function(styles){for(var i=0;i<arguments.length;i++){setStyle(this,arguments[i])}},handleEvent:function(options){var element=options.eventSource||this,scope=options.scope||this,handler=this.getFunctionWithScopeAndParams(options.handler,scope);
if(element.addEventListener){return element.addEventListener(options.event,handler,false)}else{if(element.attachEvent){return element.attachEvent("on"+options.event,handler)}else{return false}}},unhandleEvent:function(options){var element=options.eventSource||this,scope=options.scope||this,handler=this.getFunctionWithScopeAndParams(options.handler,scope);if(element.removeEventListener){return element.removeEventListener(options.event,handler,false)}else{if(element.detachEvent){return element.detachEvent("on"+options.event,handler)
}else{return false}}},addJavaScript:function(scriptUrl,callbackFunction){var head=document.getElementsByTagName("head").item(0);var js=prepareScriptObject(scriptUrl);js=addWhenReadyCallbackToScript(js,callbackFunction);head.appendChild(js)},getDefaultFlashPlacement:function(){return{parentElementIdentification:"bbContainer",elementType:"SPAN",elementAttributes:{id:"bbFlash",style:"z-index: -10; position: absolute;"}}},getDefaultContainerPlacement:function(){return{parentElementIdentification:document.body,elementType:"SPAN",elementAttributes:{id:"bbContainer"}}
},createDefaultContainerIfNotExists:function(){return this.createElementIfNotExists(this.getDefaultContainerPlacement())},createElementIfNotExists:function(placement,parentElement){if(typeof placement.elementAttributes!="undefined"&&typeof placement.elementAttributes.id!="undefined"){var elementIdentification=placement.elementAttributes.id}else{if(typeof placement.elementType!="undefined"){var elementIdentification=placement.elementType}else{throw ("Dom: Cannot create undefined element")
}}var element=this.getReferenceTo(elementIdentification,parentElement);if(element!=null){return element}return this.createElement(placement,parentElement)},createElement:function(placement,parentElement){var element=document.createElement(placement.elementType);for(var attribute in placement.elementAttributes){element.setAttribute(attribute,placement.elementAttributes[attribute])}if(parentElement==null){if(typeof placement.parentElementIdentification=="object"){parentElement=placement.parentElementIdentification
}else{parentElement=this.getReferenceTo(placement.parentElementIdentification)}if(parentElement==null){throw"Dom: Parent object does not exist"}}return parentElement.appendChild(element)},applyStyleToElement:function(element,styleDefinition){for(var styleName in styleDefinition){eval("element.style."+styleName+"='"+styleDefinition[styleName]+"'")}}}})();DOM.prototype.loaded=false;DOM.prototype.checked=false;(function(){var browser=new Browser();var dom=new DOM();if(dom.checked==true){return
}DOM.prototype.checked=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){DOM.prototype.loaded=true;BbSingleton.getEventDispatcher().dispatchEvent("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED)},false)}else{if(browser.isMsie){(function(){try{document.documentElement.doScroll("left");if(window.parent&&document.readyState&&document.readyState!="complete"){throw ("dom not loaded yet")}}catch(error){setTimeout(arguments.callee,50);
return}DOM.prototype.loaded=true;BbSingleton.getEventDispatcher().dispatchEvent("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED);return})()}else{oldOnload=window.onload;if(oldOnload!==Bb.Singleton.onLoadHandler){window.onload=Bb.Singleton.onLoadHandler}}}})();Util.prototype.mixIn(DOM.prototype,Util);function Html(){var that=this;if(!(that instanceof Html)){that={}}return that}Html.prototype=(function(){function getCommonParameterString(options,idSuffix){var commonString="",id=makeId(options.id,idSuffix);
commonString+=" id='"+id+"' ";commonString+=" name='"+id+"' ";commonString+=" width='"+options.width+"' height='"+options.height+"' ";return commonString}function makeId(id,suffix){return id+(suffix||"")}function getAttribute(name,value){var attr="";if(value){attr=" "+name+"='"+value+"'"}return attr}return{getClickableImg:function(options){return code=this.getAnchor({href:options.clickUrl,target:options.target,content:this.getImg(options)})},getImg:function(options){var code="",imgSource=options.url||options.fileName;
code+="<IMG id='"+options.id+"Img' ";code+="SRC='"+imgSource+"' width='"+options.width+"' height='"+options.height+"'";code+="ALT='"+(options.altTxt||imgSource)+"'>";return code},getDiv:function(options){var code="";code+=this.getDivOpening(options);code+=options.content;code+=this.getDivClosing(options);return code},getDivOpening:function(options){return"<DIV id='"+options.id+"' style='"+options.styleAttribute+"'>"},getDivClosing:function(){return"</DIV>"},getAnchor:function(options){var code="<A";
code+=getAttribute("href",options.href);code+=getAttribute("target",options.target);code+=">"+options.content+"</A>";return code},getIEFlashCode:function(options,idSuffix){var flashcode="<OBJECT classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' ";flashcode+=getCommonParameterString(options,idSuffix)+">";flashcode+="<PARAM name='movie' value='"+this.getPathWithTrailingSlash(options.baseUrl)+options.fileName+"'>";for(var param in options.params){flashcode+="<PARAM name='"+param+"' value='"+options.params[param]+"'>"
}flashcode+="</OBJECT>";var fscommandSupport="";fscommandSupport+="<SCRIPT LANGUAGE='VBScript'>";fscommandSupport+="Sub "+makeId(options.id,idSuffix)+"_FSCommand(ByVal command, ByVal args)\n";fscommandSupport+="call "+makeId(options.id,idSuffix)+"_DoFSCommand(command, args)\n";fscommandSupport+="end sub\n";fscommandSupport+="</SCRIPT>";return fscommandSupport+flashcode},getNonIEFlashCode:function(options,idSuffix){var flashcode="<EMBED type='application/x-shockwave-flash' ";flashcode+="src='"+this.getPathWithTrailingSlash(options.baseUrl)+options.fileName+"' ";
flashcode+=getCommonParameterString(options,idSuffix);for(param in options.params){flashcode+=param+"='"+options.params[param]+"' "}flashcode+=" swLifeConnect='true'";return flashcode+">"},getMadeId:function(id,idSuffix){return makeId(id,idSuffix)}}})();Util.prototype.mixIn(DOM.prototype,Util);function Flash(){var that=this;if(!(that instanceof Flash)){that={}}return that}Flash.prototype=(function(){var flashNamePrefix="flash_",IDSUFFIX="Flash";return{isRequiredFlashVersionAvailable:function(options){options=this.addMissingProperties(options,{requiredVersion:1000});
return(options.requiredVersion<=this.getInstalledFlashVersion())},getInstalledFlashVersion:function(){var flVer=0,x,axo;if(this.isDefined(navigator.plugins)&&(navigator.mimeTypes.length>0)){x=navigator.plugins["Shockwave Flash"];if(x&&x.description){flVer=parseInt(x.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")[0])}}else{if(this.isDefined(ActiveXObject)){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
flVer=6}catch(e){}try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}if(axo!=null){flVer=parseInt(axo.GetVariable("$version").split(" ")[1].split(",")[0])}}}return flVer},getDefaultOptions:function(){return{baseUrl:"",fileName:"flash.swf",id:"myFlash",width:0,height:0,versionRequired:6,vars:{clickTarget:"_blank"},params:{allowScriptAccess:"always",wmode:"window",quality:"high",flashVars:""}}},addVarsForClicks:function(options){var vars={};if(options.clickVar){addClickVar(options.clickVar)
}else{addClickVar("clickthru","clickTag","clickTAG")}options.vars=this.addMissingProperties(options.vars,vars);return options;function addClickVar(){for(var i=0;i<arguments.length;i++){vars[arguments[i]]=options.clickUrl}}},getEnhancedOptions:function(options){options=this.addMissingProperties(options,this.getDefaultOptions());if(options.clickUrl){options=this.addVarsForClicks(options)}addVarsToFlashVars();return options;function addVarsToFlashVars(){for(var vr in options.vars){options.params.flashVars+="&"+vr+"="+encodeURIComponent(options.vars[vr])
}}},getFlashCode:function(options){var flashcode="";options=this.getEnhancedOptions(options);if(this.isMsie){flashcode=this.getIEFlashCode(options,IDSUFFIX)}else{flashcode=this.getNonIEFlashCode(options,IDSUFFIX)}return flashcode},getFlashName:function(options){return this.getMadeId(options.id,IDSUFFIX)},getReferenceTo:function(flashId){if(window.document[flashId]){return window.document[flashId]}if(!browser.isMsie){if(document.embeds&&document.embeds[flashId]){return document.embeds[flashId]
}}return document.getElementById(flashId)},addFsCommandHandler:function(options,handler){var flashName=this.getFlashName(options);window[flashName+"_DoFSCommand"]=handler},addFlashObjectIntoDom:function(placement,flashCode){placement=this.addMissingProperties(placement,this.getDefaultFlashPlacement());if(placement.parentElementIdentification==this.getDefaultContainerPlacement().elementAttributes.id){var container=this.createDefaultContainerIfNotExists();var bbFlash=this.createElementIfNotExists(placement,container)
}else{var bbFlash=this.createElementIfNotExists(placement)}bbFlash.innerHTML=flashCode}}})();Util.prototype.mixIn(Flash.prototype,Util,Browser,Html,DOM);function Client(dependencies){var utils=new Util();dependencies=utils.createObjectIfUndefined(dependencies);var browser=utils.initializeDependencies(dependencies.browser,Browser);var nav=utils.getValueOrDefaultIfUndefined(dependencies.navigator,navigator);var win=utils.getValueOrDefaultIfUndefined(dependencies.window,window);var data={dataString:"",add:function(key,value){data.dataString+=key+":"+value+";";
return this},toString:function(){return data.dataString}};function getOtherNavigatorData(){data.add("language",nav.language)}function getNavigatorMimeTypesData(){data.add("navigator.mimeTypes.length",nav.mimeTypes.length);for(i=0;i<nav.mimeTypes.length;i++){mimeObject=nav.mimeTypes[i];if(mimeObject.enabledPlugin){if(mimeObject.description!=""){data.add("description",mimeObject.description)}}}}function getNavigatorPluginsData(){data.add("pluginsCount",nav.plugins.length);data.add("plugins","");
for(i=0;i<nav.plugins.length;i++){data.add("puginName",nav.plugins[i].name).add("filename",nav.plugins[i].filename).add("description",nav.plugins[i].description)}}function collectNavigatorData(){getOtherNavigatorData();getNavigatorMimeTypesData();getNavigatorPluginsData()}function collectExplorerData(){data.add("appMinorVersion",nav.appMinorVersion).add("cpuClass",nav.cpuClass).add("browserLanguage",nav.browserLanguage).add("userLanguage",nav.userLanguage).add("systemLanguage",nav.systemLanguage).add("onLine",nav.onLine).add("numberOfMimeTypes",nav.mimeTypes.length).add("numberOfPlugins",nav.plugins.length).add("userProfile",nav.userProfile)
}function collectOperaData(){data.add("language",nav.language)}function collectAllOtherBrowserData(){data.add("screenWidth",win.screen.width).add("screenHeight",win.screen.height).add("cookieEnabled",win.cookieEnabled).add("userAgent",nav.userAgent).add("platform",nav.platform).add("appName",nav.appName).add("appVersion",nav.appVersion).add("appCodeName",nav.appCodeName).add("colorDepth",win.screen.colorDepth).add("screenAvailWidth",win.screen.availWidth).add("screenAvailHeight",win.screen.availHeight).add("windowPageXOffset",win.pageXOffset).add("windowPageYOffset",win.pageYOffset)
}this.getData=function(){if(browser.isOpera){collectOperaData()}else{if(browser.isMsie){collectExplorerData()}else{collectNavigatorData()}}collectAllOtherBrowserData();return data.toString()}}function StringUtils(){this.convertParamListIntoSingleString=function(paramList,paramDelimiter,valueAssigner){var paramString="";for(var paramName in paramList){if(paramString!=""){paramString+=paramDelimiter}paramString+=paramName+valueAssigner+paramList[paramName]}return paramString};this.clipStringIfOverflows=function(stringToClip,maxLength,clippingMethod){if(stringToClip.length<=maxLength){return stringToClip
}if(clippingMethod=="MIDDLE"){var halfLength=maxLength/2;var firstPart=stringToClip.substring(0,halfLength);var secondPart=stringToClip.substring(stringToClip.length-halfLength);return firstPart.concat(secondPart)}if(clippingMethod=="TAIL"){return stringToClip.substring(0,maxLength)}return stringToClip}}StringUtils.prototype.toString=function(){return"StringUtils object"};function Security(dependencies){var hexcase=0;var b64pad="";this.hex_md5=function(s){return rstr2hex(rstr_md5(str2rstr_utf8(s)))
};this.b64_md5=function(s){return rstr2b64(rstr_md5(str2rstr_utf8(s)))};this.any_md5=function(s,e){return rstr2any(rstr_md5(str2rstr_utf8(s)),e)};this.hex_hmac_md5=function(k,d){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)))};this.b64_hmac_md5=function(k,d){return rstr2b64(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)))};this.any_hmac_md5=function(k,d,e){return rstr2any(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)),e)};this.md5_vm_test=function(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"
};function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),s.length*8))}function rstr_hmac_md5(key,data){var bkey=rstr2binl(key);if(bkey.length>16){bkey=binl_md5(bkey,key.length*8)}var ipad=Array(16),opad=Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}var hash=binl_md5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binl_md5(opad.concat(hash),512+128))}function rstr2hex(input){try{hexcase}catch(e){hexcase=0}var hex_tab=hexcase?"0123456789ABCDEF":"0123456789abcdef";
var output="";var x;for(var i=0;i<input.length;i++){x=input.charCodeAt(i);output+=hex_tab.charAt((x>>>4)&15)+hex_tab.charAt(x&15)}return output}function rstr2b64(input){try{b64pad}catch(e){b64pad=""}var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var output="";var len=input.length;for(var i=0;i<len;i+=3){var triplet=(input.charCodeAt(i)<<16)|(i+1<len?input.charCodeAt(i+1)<<8:0)|(i+2<len?input.charCodeAt(i+2):0);for(var j=0;j<4;j++){if(i*8+j*6>input.length*8){output+=b64pad
}else{output+=tab.charAt((triplet>>>6*(3-j))&63)}}}return output}function rstr2any(input,encoding){var divisor=encoding.length;var i,j,q,x,quotient;var dividend=Array(Math.ceil(input.length/2));for(i=0;i<dividend.length;i++){dividend[i]=(input.charCodeAt(i*2)<<8)|input.charCodeAt(i*2+1)}var full_length=Math.ceil(input.length*8/(Math.log(encoding.length)/Math.log(2)));var remainders=Array(full_length);for(j=0;j<full_length;j++){quotient=Array();x=0;for(i=0;i<dividend.length;i++){x=(x<<16)+dividend[i];
q=Math.floor(x/divisor);x-=q*divisor;if(quotient.length>0||q>0){quotient[quotient.length]=q}}remainders[j]=x;dividend=quotient}var output="";for(i=remainders.length-1;i>=0;i--){output+=encoding.charAt(remainders[i])}return output}function str2rstr_utf8(input){var output="";var i=-1;var x,y;while(++i<input.length){x=input.charCodeAt(i);y=i+1<input.length?input.charCodeAt(i+1):0;if(55296<=x&&x<=56319&&56320<=y&&y<=57343){x=65536+((x&1023)<<10)+(y&1023);i++}if(x<=127){output+=String.fromCharCode(x)
}else{if(x<=2047){output+=String.fromCharCode(192|((x>>>6)&31),128|(x&63))}else{if(x<=65535){output+=String.fromCharCode(224|((x>>>12)&15),128|((x>>>6)&63),128|(x&63))}else{if(x<=2097151){output+=String.fromCharCode(240|((x>>>18)&7),128|((x>>>12)&63),128|((x>>>6)&63),128|(x&63))}}}}}return output}function str2rstr_utf16le(input){var output="";for(var i=0;i<input.length;i++){output+=String.fromCharCode(input.charCodeAt(i)&255,(input.charCodeAt(i)>>>8)&255)}return output}function str2rstr_utf16be(input){var output="";
for(var i=0;i<input.length;i++){output+=String.fromCharCode((input.charCodeAt(i)>>>8)&255,input.charCodeAt(i)&255)}return output}function rstr2binl(input){var output=Array(input.length>>2);for(var i=0;i<output.length;i++){output[i]=0}for(var i=0;i<input.length*8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&255)<<(i%32)}return output}function binl2rstr(input){var output="";for(var i=0;i<input.length*32;i+=8){output+=String.fromCharCode((input[i>>5]>>>(i%32))&255)}return output}function binl_md5(x,len){x[len>>5]|=128<<((len)%32);
x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);
a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);
d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);
c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);
b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);
a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn((b&c)|((~b)&d),a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t)
}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|(~d)),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535)}function bit_rol(num,cnt){return(num<<cnt)|(num>>>(32-cnt))}}Security.prototype.toString=function(){return"Security object"};this.Util=Util;this.Browser=Browser;this.Cookie=Cookie;this.DOM=DOM;this.Flash=Flash;this.Html=Html;if(typeof StringUtils!=="undefined"){this.StringUtils=StringUtils
}if(typeof Client!=="undefined"){this.Client=Client}if(typeof Communication!=="undefined"){this.Communication=Communication}if(typeof Security!=="undefined"){this.Security=Security}})}!function(g,h){function j(p,q){function m(t,w,u){var v=this;v.invalidate=function(){t=n},v.isInvalidated=function(){return t===n},v.getTimestamp=function(){return w},v.getExpires=function(){return new q.time(u)},v.setExpires=function(x){u=x.roundToMidnight().getTime()},v.toString=function(){return"BBID-"+t+"-"+q.formatNumber(w,17)+"-"+q.formatNumber(u,8)
}}var r=/BBID-([\d]{2})-([\d]{17})-?(\d{8})?/,s="01",n="10",o=q.date(2018,4,25).addDays(90).roundToMidnight().getTime();return m.parse=function(t){var u=r.exec(t);return u?new m(u[1]===n?n:s,parseInt(u[2],10),u[3]?100000*parseInt(u[3],10):o):null},m}var k=function(m){var n="https://";return{bn002:"ibbid",CPEX_KEY:"cpex2ibb",bn003:"BBID-00-00000000000000000",bn004:n+"bbcdn-bbnaut.ibillboard.com/library/bbnaut-lib-2.1.3.min.js",bn005:[],bn006:"bbnaut_debug",OBSOLETE_TIMESTAMP:470000000000000}
},l=function(m,n){return{bn007:function(r,s){if("string"==typeof s){for(var t=r+"=",o=s.split(/[;&]/),p=0;p<o.length;p++){for(var q=o[p];" "==q.charAt(0);){q=q.substring(1,q.length)}if(0==q.indexOf(t)){return q.substring(t.length,q.length)}}}},bn008:function(o){n.write('<script type="text/javascript" src="'+o+'"><\/script>')},bn017:function(o){var p=n.createElement("script");p.type="text/javascript",p.async=!0,p.src=o;var q=n.getElementsByTagName("script")[0];q.parentNode.insertBefore(p,q)
},bn009:function(o){m.console&&m.console.info(o)},formatNumber:function(p,q){for(var o=p.toString();o.length<q;){o="0"+o}return o.length>q&&(o=o.substr(0,q)),o},time:function(p){var q=this,o=new Date(p);q.addDays=function(r){return o.setDate(o.getDate()+r),q},q.roundToMidnight=function(){return o.setHours(0,0,0,0),q},q.isInFuture=function(){return o.getTime()>(new Date).getTime()},q.getTime=function(){return o.getTime()}},date:function(p,q,o){return new this.time(new Date(p,q,o).getTime())
}}},y=function(p,q,r,m,n){function o(s,t){return n.parse(m.bn007(s,t))}return{bn011:function(){return o(r.bn002,q.cookie)},bn016:function(s){return m.bn007(s,q.cookie)},bn012:function(){try{if(p.localStorage){return n.parse(p.localStorage.getItem(r.bn002))}}catch(s){}},bn013:function(){try{if(p.sessionStorage){return n.parse(p.sessionStorage.getItem(r.bn002))}}catch(s){}},bn014:function(){try{return o(r.bn002,p.name)}catch(s){}}}},a=function(p,q,r,m){function n(s,x){function t(){return !s.isInvalidated()&&!x.isInvalidated()
}function u(){return s.isInvalidated()&&x.isInvalidated()}function v(){return s.isInvalidated()?s:x}function w(){return s.getTimestamp()<x.getTimestamp()?s:x}function G(){return s.getTimestamp()>x.getTimestamp()?s:x}return s?t()?w():u()?G():v():x}function o(s){return s.filter(function(t){return t&&t.getExpires().isInFuture()}).reduce(n,null)}return{bn015:function(){if(!p.bbnautLib||!p.bbnautLib.getId){for(var u=!0,v=0;v<q.bn005.length;++v){if(p.location.host.indexOf(q.bn005[v])>=0){u=!1;
break}}u&&r.bn017(q.bn004);var s=o([m.bn011(),m.bn012(),m.bn013(),m.bn014()]),t=m.bn016(q.CPEX_KEY);p.bbnautLib=p.bbnautLib||{},p.bbnautLib.prtos=p.bbnautLib.prtos||{},p.bbnautLib.getId=function(){return s?s.toString():null},p.bbnautLib.getCpexProfile=function(){return t},p.bbnautLib.storeSRAProfile=function(w){"function"==typeof p.bbnautLib.storeProfile?p.bbnautLib.storeProfile(w):p.bbnautLib.prtos.srapr=w}}}}},b=k(h),c=l(h,g),d=j(b,c),e=y(h,g,b,c,d),f=a(h,b,c,e);f.bn015()}(document,window);
BmOne2n=function(j){var f=new BBECML.Util();j=f.createObjectIfUndefined(j);this.dom=f.initializeDependencies(j.DOM,BBECML.DOM);this.browser=f.initializeDependencies(j.Browser,BBECML.Browser);this.positions={};this.userDefinedPositions={};this.adRepository={};var g=null;this.blockErrors=function(){if(typeof _bbdebug=="undefined"){if(!this.oldErrHandler){this.oldErrHandler=window.onerror}window.onerror=this.failGracefully}};this.unblockErrors=function(){if(typeof _bbdebug=="undefined"){window.onerror=this.oldErrHandler
}};this.failGracefully=function(){return true};this.addPosition=function(p,e,o,b,c,a,q){this.blockErrors();var d=this.dom.getReferenceTo("bmone2n-"+p);if(!d&&this.userDefinedPositions[p]){d=this.dom.getReferenceTo(this.userDefinedPositions[p])}if(d&&(d.style.visibility.toUpperCase()!="HIDDEN")&&(d.style.display.toUpperCase()!="NONE")){this.positions[p]=new Object();this.positions[p]["codeParams"]=typeof(e)!="string"?"":e;this.positions[p]["objIDsS"]=o=="this"||o==""?"bmone2n-"+p:o;
this.positions[p]["objStylesS"]=b;this.positions[p]["objIDsF"]=c=="this"||c==""?"bmone2n-"+p:c;this.positions[p]["objStylesF"]=a;this.positions[p]["callback"]=q}this.unblockErrors()};this.mapPosition=function(c,a){this.blockErrors();var b=this.dom.getReferenceTo(a);if(b&&(b.style.visibility.toUpperCase()!="HIDDEN")&&(b.style.display.toUpperCase()!="NONE")){this.userDefinedPositions[c]=a}this.unblockErrors()};this.addAd=function(b,a,c){this.blockErrors();this.adRepository[b]=new Object();
this.adRepository[b]["adCode"]=a;this.adRepository[b]["beacon"]=c?true:false;this.unblockErrors()};this.makeAd=function(a){this.blockErrors();var s,y,v="",w=true,t=this,x=true,c=false,u,y;if(d(a)){c=true;if(this.adRepository[a]["beacon"]){v="BBMEDIA ONE2MANY WARNING: INVISIBLE BEACON CODE TO BE PLACED HERE. IF YOU SEE THIS MESSAGE IT IS WRONG!"}s=this.dom.getReferenceTo("bmone2n-"+a);if(!s&&this.userDefinedPositions[a]){s=this.dom.getReferenceTo(this.userDefinedPositions[a])}if(e(a)){y=this.dom.getReferenceTo("bmone2t-"+a);
if(!(this.browser.isMsie&&this.browser.majorVersion<=8)&&!(this.browser.isOpera&&this.browser.majorVersion<11)){this.moveSourceToTargetNow(y,s);document.write(b(a))}else{document.write(b(a));if(w){this.adRepository[a]["tomove"]=true}setTimeout(function(){t.waitForScripts(y,a)},0);x=false}}else{if(s){s.innerHTML=b(a)}else{x=false}}}if(x){this.callCallback(a,c)}this.unblockErrors();function d(l){return t.adRepository[l]&&t.adRepository[l]["adCode"]}function e(m){var l=t.adRepository[m]["adCode"].toUpperCase();
return(l.indexOf("<SC")!=-1)||(l.indexOf("SCRIPT")!=-1)}function b(l){return t.adRepository[l]["adCode"]+v}};this.moveSourceToTargetNow=function(b,a){b=b.parentNode.removeChild(b);b.style.display="block";a.insertBefore(b,null)};var h={};var k={};this.waitForScripts=function(b,d){var a=this;var e=b.getElementsByTagName("SCRIPT");k[d]=h[d]=e.length;if(e[0]&&!e[0].readyState){this.move1Ad(d,true)}for(var c=0;c<e.length;c++){if(e[c].readyState=="complete"||(this.browser.isOpera&&e[c].readyState=="loaded")){this.checkReadiness(d,b)
}else{if(this.browser.isOpera){e[c].onload=function(){a.checkReadiness(d,b)}}else{e[c].onreadystatechange=function(){if(this.readyState=="complete"){a.checkReadiness(d,b)}}}}}};this.checkReadiness=function(c,b){var a=this;k[c]--;if(k[c]<1){if(b.getElementsByTagName("SCRIPT").length==h[c]){BbSingleton.getEventDispatcher().registerListener("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED,function(){a.move1Ad(c)})}else{setTimeout(function(){a.waitForScripts(b,c)},0)}}};this.callCallback=function(b,a){if(this.positions[b]){if(typeof this.positions[b]["callback"]!="function"){this.changeStyles(b,a)
}else{this.positions[b]["callback"](b,a)}}};this.move1Ad=function(a,c){var q;var r=null;var b=null;if(this.adRepository[a]["tomove"]){var d=this.dom.getReferenceTo("bmone2n-"+a);if(d){var s=this.dom.getReferenceTo("bmone2t-"+a);if(s){s.style.display="block";if(this.browser.isMsie&&this.browser.majorVersion<=8){var p=s.getElementsByTagName("SCRIPT");for(var e=0;e<p.length;e++){if(p[e].src!=""){p[e].src=""}}}d.insertBefore(s,null);this.callCallback(a,true)}}this.adRepository[a]["tomove"]=false
}};this.moveAd=function(){this.blockErrors();var a=this;if(!this.dom.isLoaded()){BbSingleton.getEventDispatcher().registerListener("DOM",BbSingleton.getEventDispatcher().events.DOMLOADED,function(){a.moveAd()});this.unblockErrors();return}for(var b in this.adRepository){this.move1Ad(b)}if(window.navigator.appVersion.match(/Chrome\/27/)){this.chromeDisplayFlashWorkaround()}this.unblockErrors()};this.chromeDisplayFlashWorkaround=function(){var a=document.getElementsByTagName("object");
for(var c=0;c<a.length;c++){var b=a.item(c);b.style.left="0px"}};this.getMoveAdCall=function(b){var a=this;return function(){a.move1Ad(b)}};this.getAudienceScienceParamsIfExists=function(){if(typeof audienceScienceParams=="undefined"){return""}return audienceScienceParams};this.getAd=function(A,B,H,I){this.blockErrors();var C=this,z=0,d="",a="";if(y(A)){this.unblockErrors();return}var J=(location.protocol.substring(0,2)!="ht")?"http:":location.protocol;if(J!="https:"){A=this.correctDomain(A)
}for(var c in this.positions){if(c.split(".").length==4){z++;d+="&one2n"+z+"=/"+c.replace(/\./g,"/")+"/;"+c+";"+escape(this.positions[c]["codeParams"])}}if(z>0){d+="&one2n="+z;var K=screen,G=navigator,D;D="&ubl="+G.language+"&ucd="+1*K.colorDepth+"&uce="+1*G.cookieEnabled+"&uje="+1*G.javaEnabled()+"&uah="+1*K.availHeight+"&uaw="+1*K.availWidth+"&uhe="+1*K.height+"&uwi="+1*K.width+"&uto="+(new Date()).getTimezoneOffset()+"&uti="+(new Date()).getTime()+"&href="+escape(location.href.substr(0,999));
D=d+D;if(typeof B=="string"&&B!=""){D+="&keywords="+encodeURIComponent(B)}a=this.getSearchEngineKeywords();if(a!=""){D+="&sekeywords="+escape(a)}if(typeof H=="string"&&H!=""){D+=H}D+=this.getAudienceScienceParamsIfExists();if(window.bbnautLib){if(typeof bbnautLib.getId=="function"){var F=bbnautLib.getId();if(F){D+="&ibbid="+F}}if(typeof bbnautLib.getCpexProfile=="function"){var b=bbnautLib.getCpexProfile();if(b){D+="&"+decodeURIComponent(b)}}}if(typeof I!="string"){I="utf-8"
}var e=null;if(typeof ibbCmpConsent==="function"){e=ibbCmpConsent()}document.write("<script type='text/javascript' charset='"+I+"' src='"+J+"//"+A+"/please/showit/0/0/0/1/?typkodu=js"+D+"&alttext=0&border=0&bust="+Math.random()+"&target=_top"+(e?"&euconsent="+e:"")+"'><\/script>")}function y(m){var p=0;var n="go.gba.bbelements.com";var l=100;var o=0;var r={5688:{domain:"go.cz.bbelements.com",dropRate:100}};if(typeof bb_dropDomain=="string"){n=bb_dropDomain}if(typeof bb_dropRate=="number"){if(bb_dropRate<o){l=o
}else{l=bb_dropRate}}if(typeof bb_dropForServerId=="string"){r[bb_dropForServerId]={};r[bb_dropForServerId]["domain"]=n;r[bb_dropForServerId]["dropRate"]=l}for(var q in C.positions){serverId=q.split(".")[p];if(r[serverId]&&r[serverId]["domain"]==m){return E(r[serverId]["dropRate"])}}return false}function E(l){return Math.random()*100<l}this.unblockErrors()};this.getSearchEngineKeywords=function(){var e="",m=["q","szukaj","qt","text"],b=document.referrer||"",c=";",a;a=b.split("?")[1];
if(a){e=d(a,m)}return e;function d(C,G){var A,E,J,K,I=[],D="([^w]|^)",F="([^&]+)",z=/['"]/g,H=/[+ ]+/;for(var l=0;l<G.length;l++){E="";A=new RegExp(D+G[l]+"="+F,"gi");J=A.exec(C);if(J){E=J[2]}if(E){try{E=decodeURIComponent(E)}catch(B){return""}E=E.replace(z,"");K=E.split(H);I=I.concat(K)}}return I.join(c)}};this.correctDomain=function(a){var b={};b["adarbo2.bbmedia.cz"]="go.arbo.bbelements.com";b["adidnes2.bbmedia.cz"]="go.idnes.bbelements.com";b["ad2.pl.mediainter.net"]="go.arbopl.bbelements.com";
b["ad2.bbmedia.cz"]="go.cz.bbelements.com";if(b[a]){return b[a]}else{return a}};this.changeStyles=function(c,d){this.blockErrors();finalL=d?"S":"F";var y="",e,b,a,s;if(typeof(this.positions[c])!="undefined"&&this.positions[c]["objIDs"+finalL]){var v=(this.positions[c]["objIDs"+finalL]).split(",");var t=(this.positions[c]["objStyles"+finalL]).split(",");for(var u in v){if(!t[u]){if(y){t[u]=y}else{this.unblockErrors();return}}var x=t[u];y=x;var w=this.dom.getReferenceTo(v[u]);if(w){if(x.indexOf("class=")==0){w.className=x.substr(6)
}else{while(x){e=x.indexOf(":");if(e==-1){this.unblockErrors();return}b=x.indexOf(";");if(b==-1){b=x.length}s=x.substr(0,e);a=x.substr(e+1,b-e-1);w.style[s]=a;x=x.substr(b+1)}}}}}this.unblockErrors()};this.rotateAd=function(a){if(typeof bb_rotation=="function"){bb_rotation(a)}else{for(var b=0;b<a.length;b++){if(a[b].gId!=0&&a[b].poss.length>1){for(var c=0;c<a[b].poss.length-1;c++){sourceIdx=Math.floor(Math.random()*a[b].poss.length);destIdx=Math.floor(Math.random()*a[b].poss.length);
if(sourceIdx!=destIdx){source=document.getElementById("bmone2n-"+a[b].poss[sourceIdx]);dest=document.getElementById("bmone2n-"+a[b].poss[destIdx]);placeHolder=document.createElement("SPAN");if(source&&dest){sourcePar=source.parentNode;destPar=dest.parentNode;source=sourcePar.replaceChild(placeHolder,source);dest=destPar.replaceChild(source,dest);sourcePar.replaceChild(dest,placeHolder)}}}}}}};this.iniDivRotation=function(c){var e=new Object();var b=[];var a=c.split(";");for(var d=0;
d<a.length;d++){groupInfo=a[d].split("#");groupId="grp"+groupInfo[1];if(typeof e[groupId]!="undefined"){e[groupId].push(groupInfo[0])}else{e[groupId]=[groupInfo[0]]}}for(group in e){gid=group.substr(3);b.push({gId:gid,poss:e[group]})}this.rotateAd(b)}};bmone2n=new BmOne2n();