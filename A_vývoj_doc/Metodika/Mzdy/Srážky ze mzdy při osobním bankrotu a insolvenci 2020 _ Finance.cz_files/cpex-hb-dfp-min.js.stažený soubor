"use strict";window.cpexWrapperVersion="dfp 0.3","function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},writable:!0,configurable:!0});var pbjs=pbjs||{};pbjs.que=pbjs.que||[];var googletag=googletag||{};if(googletag.cmd=googletag.cmd||[],window.top.location.href.indexOf("cpexsrc=test")>-1&&!pbjs.CPEX_testSourceCalled)pbjs.CPEX_testSourceCalled=!0,function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://test.cpex.cz/hb/cpex-hb-dfp.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();else{try{window.cpexTimer=cpexTimer||{},cpexTimer.que=cpexTimer.que||[],cpexTimer.que.push(["prebid_init",performance.now()])}catch(e){}pbjs.que.push(function(){pbjs.aliasBidder("adform","im-adform")}),pbjs.CPEX_canRenderAds=!!pbjs.CPEX_canRenderAds||!1,pbjs.winningBids={},pbjs.CPEX_getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=s.exec(t);return n||(n=(s=new RegExp("[#&]"+e+"(=([^&#]*)|&|#|$)")).exec(t))?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},pbjs.CPEX_excludeJsonpTags=!!pbjs.CPEX_excludeJsonpTags||"1"===pbjs.CPEX_getParameterByName("excludeJsonp"),pbjs.CPEX_showlogs=!!pbjs.CPEX_showlogs||"1"===pbjs.CPEX_getParameterByName("debug"),pbjs.logging=!!pbjs.logging||"1"===pbjs.CPEX_getParameterByName("logging"),pbjs.CPEX_timeout=pbjs.CPEX_timeout||1e3,pbjs.CPEX_usdCzk=pbjs.CPEX_usdCzk||25,pbjs.CPEX_eurCzk=pbjs.CPEX_eurCzk||27,pbjs.CPEX_settings={cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{userIds:[{name:"id5Id",params:{partner:250},storage:{type:"cookie",name:"pbjs-id5id",expires:90,refreshInSeconds:28800}}]}},pbjs.CPEX_additionalSettings=pbjs.CPEX_additionalSettings||{},pbjs.winningBids=pbjs.winningBids||{},pbjs.CPEX_log=function(e){pbjs.CPEX_showlogs&&console.log(e)},pbjs.CPEX_logError=function(e,t){e||(e=""),"string"==typeof e.message&&(e=e.message);var s={data:t?JSON.stringify(t):void 0,type:"pbjs",errorMessage:e,url:window.location.href};pbjs.CPEX_log(JSON.stringify(s));var n="";for(var i in s)""!==n&&(n+="&"),n+=i+"="+encodeURIComponent(s[i]);var r=new XMLHttpRequest;r.open("POST","https://log.cpex.cz/log.php",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(n)},pbjs.CPEX_log("h000 cpex script init"),pbjs.CPEX_Time0=(new Date).getTime(),pbjs.CPEX_offsetNow=function(){return(new Date).getTime()-pbjs.CPEX_Time0},pbjs.cpexHbPbCoef=pbjs.cpexHbPbCoef||1.39,pbjs.cpexHbMin=pbjs.cpexHbMin||7,pbjs.bidderSettingsHbPb=pbjs.bidderSettingsHbPb||function(e){try{var t,s=void 0!==e.currency&&"EUR"===e.currency?pbjs.CPEX_eurCzk:pbjs.CPEX_usdCzk,n=e.cpm*s-pbjs.cpexHbMin;t=n<1?1:Math.floor(Math.log(n)/Math.log(pbjs.cpexHbPbCoef))}catch(e){t=1}return t<1?1:t<16?t:16};try{pbjs.bidderSettings=pbjs.bidderSettings||{},pbjs.bidderSettings.standard=pbjs.bidderSettings.standard||{alwaysUseBid:!1,adserverTargeting:[{key:"hb_pb",val:pbjs.bidderSettingsHbPb},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}},{key:"bidder",val:function(e){return e.bidderCode}},{key:"bidTier",val:pbjs.bidderSettingsHbPb}]}}catch(e){pbjs.CPEX_log(e)}if(pbjs.CPEX_enableAnalytics&&Array.isArray(pbjs.CPEX_enableAnalytics))pbjs.que.push(function(){pbjs.enableAnalytics(pbjs.CPEX_enableAnalytics)});else{var an=[{provider:"cpex"}];pbjs.que.push(function(){pbjs.enableAnalytics(an)})}pbjs.initAdserver=function(){var e;pbjs.CPEX_codesWithResponse=Object.keys(pbjs.getBidResponses());try{var t=function(e){var t=void 0,s=pbjs.getBidResponsesForAdUnitCode(e);return void 0!==s.bids&&s.bids.length>0&&s.bids.forEach(function(e){(!t||e.cpm>t.cpm)&&(t=e)}),t};if(pbjs.CPEX_codesWithResponse.length>0){for(var s=0;s<pbjs.CPEX_codesWithResponse.length;s++)void 0!==(e=t(pbjs.CPEX_codesWithResponse[s]))&&0===e.cpm||(pbjs.winningBids[pbjs.CPEX_codesWithResponse[s]]=e,void 0!==e&&e.cpm&&(1e3===e.height&&1e3===e.width||1400===e.height&&2e3===e.width)&&(pbjs.CPEX_SkinCPM=e.cpm));pbjs.CPEX_log("h007 winningBids"),pbjs.CPEX_log(pbjs.winningBids)}else pbjs.CPEX_log("h003 "+pbjs.CPEX_offsetNow()+" Timeout fired, no bids returned.")}catch(e){pbjs.CPEX_log(e)}},pbjs.CPEX_initDone=!1,pbjs.CPEX_init=function(){pbjs.CPEX_initDone||(pbjs.CPEX_initDone=!0,pbjs.que.push(function(){try{window.cpexTimer=cpexTimer||{},cpexTimer.que=cpexTimer.que||[],cpexTimer.que.push(["pbjs_que_processing",performance.now()])}catch(e){}pbjs.setConfig({consentManagement:{cmpApi:"iab",timeout:4e3,defaultGdprScope:!1}});try{pbjs.setConfig(Object.assign({},pbjs.CPEX_settings,pbjs.CPEX_additionalSettings))}catch(e){pbjs.CPEX_log(e)}if(pbjs.CPEX_adUnits){pbjs.CPEX_adUnitCodeBySiteZone={};try{var e,t={};if("undefined"!=typeof rubiconTarget&&(t=rubiconTarget),t){t.domain=[top.location.hostname],t.api=["fastlane"];try{function s(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}consentV1=s("euconsent"),consentV2=s("euconsent-v2"),t.gdpr=consentV2||consentV1?[1]:[0]}catch(e){pbjs.CPEX_logError(e)}try{t.s2s=(r=pbjs.getConfig())&&void 0!==r.s2sConfig&&void 0!==r.s2sConfig.bidders&&Array.isArray(r.s2sConfig.bidders)&&r.s2sConfig.bidders.indexOf("rubicon")>-1?["1"]:["1-"]}catch(e){pbjs.CPEX_logError(e)}}for(var n=0;n<pbjs.CPEX_adUnits.length;n++)if(void 0!==pbjs.CPEX_adUnits[n].bids&&pbjs.CPEX_adUnits[n].bids.length>0)for(var i=0;i<pbjs.CPEX_adUnits[n].bids.length;i++)if(e=pbjs.CPEX_adUnits[n].bids[i])try{"rubicon"===e.bidder&&(pbjs.CPEX_adUnitCodeBySiteZone[e.params.siteId+"-"+e.params.zoneId]=pbjs.CPEX_adUnits[n].code,Object.keys(t).length>0&&(void 0===e.params.inventory&&(e.params.inventory={}),Object.keys(t).forEach(function(s){e.params.inventory[s]=t[s]})))}catch(e){pbjs.CPEX_log("Inventory-2 error"),pbjs.CPEX_logError(e)}}catch(e){pbjs.CPEX_log("Inventory error"),pbjs.CPEX_logError(e)}pbjs.CPEX_log("h000 CPEX_adUnits"),pbjs.CPEX_log(pbjs.CPEX_adUnits),pbjs.addAdUnits(pbjs.CPEX_adUnits),pbjs.CPEX_log("h001 "+pbjs.CPEX_offsetNow()+" Ad units added."),pbjs.requestBids({timeout:pbjs.CPEX_timeout,bidsBackHandler:function(){try{cpexTimer.que.push(["prebid_bids_back",performance.now()])}catch(e){}pbjs.CPEX_log("h002 "+pbjs.CPEX_offsetNow()+" All the bid responses are back or the timeout hits "),pbjs.initAdserver(),googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync(),googletag.pubads().refresh()})})}})}else pbjs.CPEX_logError("There are no adUnits");var r}))},function(){if("undefined"==typeof cpexLoader||void 0===cpexLoader.useSequential||cpexLoader.useSequential)pbjs.CPEX_log("--------------------- pbjs.init useSequential ------------"),pbjs.CPEX_init();else{var e,t=function(){setTimeout(function(){pbjs.CPEX_init(),cpexLoader.emitEvent("pbjs.init"),pbjs.CPEX_log("--------------------- pbjs.init init done ------------"),clearInterval(e)},0)};if(void 0!==pbjs.CPEX_adUnits&&pbjs.CPEX_adUnits.length>0)pbjs.CPEX_log("- 1"),t();else{pbjs.CPEX_log("- 2"),pbjs.CPEX_log(pbjs.CPEX_adUnits);var s=0;e=setInterval(function(){void 0!==pbjs.CPEX_adUnits&&pbjs.CPEX_adUnits.length>0&&(pbjs.CPEX_log("pbjs.CPEX_adUnits loaded"),setTimeout(function(){cpexLoader.emitEvent("pbjs.setAdUnits")},0)),(s+=50)>1e4&&(pbjs.CPEX_log("time tooooo long"),clearInterval(e))},50)}pbjs.CPEX_log("--------------------- pbjs.init init start ------------"),cpexLoader.waitFor("pbjs.setAdUnits",t)}}();var sasCpexInterscroller=function(e,t,s){if(-1!==s.indexOf("data-rp-size-id")){var n=document.createElement("script");n.src=window.top.location.href.indexOf("cpexsrc=test")>-1?"https://test.cpex.cz/caf/v1/cpex-caf.js":"https://cdn.cpex.cz/caf/v1/cpex-caf.js",n.charset="utf-8",n.onload=function(){var t=document.getElementById(e);if("undefined"!=typeof cpexCustomAdFormats)try{pbjs.CPEX_log("sasCpexInterscroller: render"),pbjs.CPEX_log({targetEl:t,data:{creativeCode:s,creativeType:"interscroller-catch"}}),cpexCustomAdFormats.render({targetEl:t,data:{creativeCode:s,creativeType:"interscroller-catch"}}),pbjs.CPEX_log("sasCpexInterscroller: render - end")}catch(e){pbjs.CPEX_logError(e)}else pbjs.CPEX_logError("Missing cpexCustomAdFormats in pbjs/SAS")},n.onerror=function(){pbjs.CPEX_logError("Missing cpexCustomAdFormats in pbjs/SAS")},document.getElementsByTagName("head")[0].appendChild(n)}};pbjs.que.push(function(){setTimeout(function(){pbjs.renderAdBuffer=pbjs.renderAd,pbjs.renderAd=function(e,t){var s,n=pbjs.getBidResponses();for(var i in n)if(n.hasOwnProperty(i)&&void 0!==n[i].bids&&Array.isArray(n[i].bids))for(var r=n[i].bids,o=0;o<r.length;o++)if(r[o].adId===t){s=r[o];break}try{var p=function(){for(var t,n=document.getElementsByTagName("iframe"),i=0;i<n.length;i++)n[i].contentWindow.location===e.location&&(t=n[i]);return t||(t=document.getElementById("google_ads_iframe_"+s.adUnitCode)),t},d=e,a=+s.width,c=+s.height,b=function(e){if(e){pbjs.CPEX_log("render");try{e instanceof HTMLIFrameElement&&((e=e.contentWindow.document).onload=function(){var e=this;try{var t;e.contentWindow.addEventListener("message",function(s){if(pbjs.CPEX_log("CPEX_renderAd -  iframe message"),void 0!==s.data&&void 0!==s.data.response&&"cpexHTML5"===s.data.response)t.postMessage(s.data,"*");else try{t=s.source;var n=JSON.parse(JSON.stringify(s.data));n.source="#RTB-"+winningBid,n.targetEl="#RTB-"+winningBid,e.contentWindow.parent.postMessage(n,"*")}catch(e){pbjs.CPEX_log(s),pbjs.CPEX_log(e)}},!1)}catch(e){pbjs.CPEX_log(e)}})}catch(e){pbjs.CPEX_logError(e)}pbjs.renderAdBuffer(e,t)}else pbjs.CPEX_log("CPEX_renderAd - missing Ad element")};setTimeout(function(){if(void 0!==s.renderer);else if(2e3===a&&1400===c)"undefined"!=typeof cpexSkinObject&&void 0!==cpexSkinObject.prepareSkinIframe&&(d=cpexSkinObject.prepareSkinIframe()),d||(d=p());else if(480===a&&820===c)try{var e=document.createElement("div"),t="cpex-interscroller-hb";e.id=t;var n=p();return n.parentNode.insertBefore(e,n.nextSibling),void sasCpexInterscroller(t,null,s.ad)}catch(e){pbjs.CPEX_log(e)}else if(void 0!==s.code&&"SLIDEUP"===s.code||"undefined"!=typeof cpexCAFSettings&&"object"==typeof cpexCAFSettings.slideup&&void 0!==cpexCAFSettings.slideup.pagePosition&&cpexCAFSettings.slideup.pagePosition.indexOf(winningBid)>-1||320===a&&150===c||300===a&&120===c||320===a&&100===c||320===a&&50===c){pbjs.CPEX_log("slideup"),window.CPExSlideUp=window.CPExSlideUp||{},CPExSlideUp.que=CPExSlideUp.que||[],CPExSlideUp.que.push(function(){try{"undefined"!=typeof cpexCAFSettings&&"object"==typeof cpexCAFSettings.slideup&&CPExSlideUp.setSettings(cpexCAFSettings.slideup);var e=CPExSlideUp.getSlideUp().adWrapper;window.CPExSlideUp.showSlideUp(c),b(e)}catch(e){pbjs.CPEX_log(e)}});var i=document.createElement("script");return i.src="https://cdn.cpex.cz/slideup/cpex-slideup.js",document.head.appendChild(i),!1}pbjs.CPEX_log("Called bid from HB -> bidByAdId:"),pbjs.CPEX_log(s),b(d)},0)}catch(e){pbjs.CPEX_log(e)}}},100)}),pbjs.CPEX_renderAd=function(e){pbjs.CPEX_log("Adding ad for "+e);try{setTimeout(function(){pbjs.winningBids={},pbjs.winningBids[e]=pbjs.getHighestCpmBids(e);var t=document.getElementById("RTB-"+e);t&&void 0!==pbjs.winningBids[e]&&(t.style.width=pbjs.winningBids[e].width+"px",t.style.height=pbjs.winningBids[e].height+"px",pbjs.renderAd(t.contentWindow.document,pbjs.winningBids[e].adId))},0)}catch(e){pbjs.CPEX_log("CPEX_renderAd error:"),pbjs.CPEX_log(e)}},pbjs.CPEX_excludeTagWhenHBResponds=function(e,t){try{if(pbjs.CPEX_excludeJsonpTags){var s=e+"-"+t;return void 0!==pbjs.CPEX_adUnitCodeBySiteZone[s]&&pbjs.CPEX_codesWithResponse.indexOf(pbjs.CPEX_adUnitCodeBySiteZone[s])>-1}return!1}catch(e){pbjs.CPEX_logError(e)}return!1},function(e){try{if(void 0===window.cpex_AAM_test){window.cpex_AAM_test=!0;for(var t=!0,s=document.getElementsByTagName("script"),n=0,i=s.length;n<i;n++)if(-1!==s[n].src.indexOf("satelliteLib")||-1!==s[n].src.indexOf("aam/cpex-aam")){t=!1;break}if(t){window.cpex_AAM_conf={publisher:"CPEx",state:"publisher",partner:"cpex",private:"",namespace:8,shortener:!0,debug:!1,behavior:{trackLinks:!1}};var r=top.document.createElement("script"),o=pbjs.CPEX_getParameterByName("aam-url");r.src=o||"//cdn.cpex.cz/aam/cpex-aam-min.js",r.async=!0,document.head.appendChild(r)}}}catch(e){}}(),"undefined"==typeof performance||void 0===performance.now||void 0!==window.top.cpexTimer&&void 0!==window.top.cpexTimer.version||void 0!==window.cpexLoader||function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://cdn.cpex.cz/timer/v1/cpex-timer.js",document.head.appendChild(e)}()}
//# sourceMappingURL=cpex-hb-dfp-min.js.map